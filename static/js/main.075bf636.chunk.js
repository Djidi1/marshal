(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(82)},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(41),l=a.n(s),i=a(45),c=a(6),o=a(11),u=a(18),m=a(19),p="LOGIN_SUCCESS";function h(e){return function(t){t({type:p,payload:e})}}var d=a(12),f={id:0,name:"",email:"",role_id:0,shop_id:null};var g="SHOPS_REQUEST",b="CATEGORIES_REQUEST",E="REQUESTS",v="REQUEST",k="ADD_REQUESTS",y="ANSWERS",w="RESPONSE";var j={shops:[{id:1,name:"Title",description:"Description",address:"address",phone:"phone",comment:"comment",categories:[],updated_at:new Date}],categories:[{id:1,category:"Title"}]};var x=a(9),O=[];var C=[];var _=[];var S=[];var N=[{id:1,name:"Title",description:"Description",address:"address",phone:"phone",comment:"comment",updated_at:new Date},{id:2,name:"Title",description:"Description",address:"address",phone:"phone",comment:"comment",updated_at:new Date},{id:3,name:"Title",description:"Description",address:"address",phone:"phone",comment:"comment",updated_at:new Date}];var L=Object(u.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.b)("user",t.payload).then(),Object(m.a)({},t.payload);default:return e}},stores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(m.a)({},e,{shops:t.payload});case b:return Object(m.a)({},e,{categories:t.payload});default:return e}},sto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return(arguments.length>1?arguments[1]:void 0).type,e},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.payload;case k:var a=Object(x.a)(e);return a.push(t.payload),a;default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;default:return e}},response:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.payload;default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.payload;default:return e}}}),M=a(43),q=a.n(M),D=a(44),A=Object(u.d)(L,Object(u.a)(D.a,q.a)),T=a(4),R=a(1),I=a(3),$=a(5),V=a(10),B=a.n(V),F=a(13),P=a(2),H=a(20),U=a(59);U.defaults.baseURL="https://marshal.bh-app.ru/api",U.defaults.headers.post["Content-Type"]="application/json",Object(d.a)("AUTH_TOKEN").then(function(e){U.defaults.headers.common.Authorization="Bearer "+e});var G=function e(){Object(P.a)(this,e),this.data=function(){var e=Object(F.a)(B.a.mark(function e(t){var a,n,r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/"+t,n={},e.prev=2,e.next=5,U.get(a,n);case 5:if(200!==(r=e.sent).status){e.next=9;break}return Object(d.b)(t,r.data).then(),e.abrupt("return",r.data);case 9:return e.abrupt("return",void 0);case 12:return e.prev=12,e.t0=e.catch(2),console.log(e.t0.response),e.abrupt("return",void 0);case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}()},K=function(){var e=Object(F.a)(B.a.mark(function e(t,a){var n,r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new H.Detector,e.next=3,n.state.online;case 3:if(!e.sent){e.next=9;break}return r=new G,e.next=7,r.data("request/"+a).then(function(e){return void 0!==e&&t.handleRequest(e)});case 7:e.next=11;break;case 9:return e.next=11,Object(d.a)("request/"+a).then(function(e){return void 0!==e&&t.handleRequest(e)});case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),z=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(R.a)(this,Object(I.a)(t).call(this,e))).state={},a}return Object($.a)(t,e),Object(T.a)(t,[{key:"edit_request",value:function(e){this.$f7.views.main.router.navigate("open_request/"+e+"/")}},{key:"open_request",value:function(e){var t=this;this.$f7.dialog.preloader("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f..."),K(this.props,e).then(function(){t.$f7.views.main.router.navigate("requests/"+e+"/"),t.$f7.dialog.close()})}},{key:"reply",value:function(){this.$f7.dialog.alert("Reply")}},{key:"get_category",value:function(e){var t=this.props.categories.find(function(t){return t.id===e});return void 0!==t?t.category:"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}},{key:"render",value:function(){var e=this,t=this.props.requests;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.e,{style:{whiteSpace:"initial"}},"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u0434\u0431\u043e\u0440 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0432\u0430\u043c \u0430\u0442\u043e\u0442\u043e\u0432\u0430\u0440\u0430 \u0438\u043b\u0438 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0438."),r.a.createElement(c.k,{mediaList:!0,className:"no-margin"},0===t.length?r.a.createElement(c.c,null,"\u0412\u044b \u043f\u043e\u043a\u0430 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432... \u041d\u0430\u0441\u0442\u0430\u043b\u043e \u0432\u0440\u0435\u043c\u044f?"):t.map(function(t){return r.a.createElement(c.m,{key:t.id,swipeout:!0,onClick:function(){return e.open_request(t.id)},after:t.created_at.toLocaleString(),subtitle:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439: "+t.answers_count,text:t.text},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:t.answers>0?"check_circle_outline":"access_time",color:"blue"}),e.get_category(t.category_id)),r.a.createElement(c.G,{left:!0},r.a.createElement(c.H,{color:"blue",onClick:function(){return e.edit_request(t.id)}},r.a.createElement(c.i,{material:"edit"})," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement(c.G,{right:!0},r.a.createElement(c.H,{color:"orange",onClick:e.reply.bind(e),confirmText:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043e\u0442\u043c\u0435\u043d\u0443 \u0432\u0430\u0448\u0435\u0439 \u0437\u0430\u044f\u0432\u043a\u0438"},r.a.createElement(c.i,{material:"delete"})," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443")))})))}}]),t}(r.a.Component),Q=Object(o.b)(function(e){return{requests:e.requests,categories:e.stores.categories}},function(e){return{handleRequest:function(t){return e((a=t,function(e){e({type:v,payload:a})}));var a}}})(z),J=function(e){function t(){return Object(P.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(T.a)(t,[{key:"forward",value:function(){this.$f7.dialog.alert("\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435","\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")}},{key:"render",value:function(){var e=this,t=this.props,a=t.stores,n=t.categories;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.e,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0443\u044e \u0432\u0430\u0441 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0430\u0432\u0442\u043e\u0442\u043e\u0432\u0430\u0440\u043e\u0432:"),r.a.createElement(c.k,{accordionList:!0},n.sort(function(e,t){return e.category<t.category?-1:1}).map(function(t,n){return r.a.createElement(c.m,{key:n,accordionItem:!0,title:t.category},r.a.createElement(c.a,null,r.a.createElement(c.k,{mediaList:!0,className:"no-margin"},a.filter(function(e){return e.categories.find(function(e){return e.id===t.id})}).map(function(t){return r.a.createElement(c.m,{key:t.id,swipeout:!0,after:t.phone,subtitle:t.description,text:t.address},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:"store",color:"green"})," ",t.name),r.a.createElement(c.G,{left:!0},r.a.createElement(c.H,{color:"blue",onClick:e.forward.bind(e)},r.a.createElement(c.i,{material:"favorite"})," \u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")))}))))})))}}]),t}(r.a.Component),W=Object(o.b)(function(e){return{stores:e.stores.shops,categories:e.stores.categories}})(J),Y=function(e){function t(){return Object(P.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(T.a)(t,[{key:"forward",value:function(){this.$f7.dialog.alert("Favorite")}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement("h1",null,"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement(c.k,{mediaList:!0,className:"no-margin"},e.id>0?r.a.createElement(c.m,{subtitle:e.email},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:"account_circle",color:"main"})," ",e.name)):r.a.createElement(c.m,{button:!0,link:"login/",subtitle:"\u041f\u043e\u0441\u043b\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0441\u0442\u0430\u043d\u0443\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438"},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:"account_circle",color:"main"})," \u0412\u0445\u043e\u0434")),r.a.createElement(c.m,{button:!0,link:"/cars/",subtitle:"\u0414\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430"},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:"directions_car",color:"main"})," \u041c\u043e\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"))))}}]),t}(r.a.Component),X=Object(o.b)(function(e){return{user:e.user}})(Y),Z=function(e){function t(){return Object(P.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(T.a)(t,[{key:"forward",value:function(){this.$f7.dialog.alert("\u0421\u0422\u041e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435","\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")}},{key:"render",value:function(){var e=this,t=this.props.sto;return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0421\u0422\u041e"),r.a.createElement(c.k,{mediaList:!0,className:"no-margin"},t.map(function(t){return r.a.createElement(c.m,{key:t.id,swipeout:!0,after:t.updated_at.toLocaleString(),subtitle:t.description,text:t.address},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:"build",color:"purple"})," ",t.name),r.a.createElement(c.G,{left:!0},r.a.createElement(c.H,{color:"blue",onClick:e.forward.bind(e)},r.a.createElement(c.i,{material:"favorite"})," \u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")))})))}}]),t}(r.a.Component),ee=Object(o.b)(function(e){return{sto:e.sto}})(Z),te=function e(){Object(P.a)(this,e),this.init=function(){var e=Object(F.a)(B.a.mark(function e(t){var a;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("user").then(function(e){return void 0!==e&&t.handleLogin(e)});case 2:if(!(new H.Detector).state.online){e.next=10;break}(a=new G).data("shops").then(function(e){return void 0!==e&&t.handleShops(e)}),a.data("categories").then(function(e){return void 0!==e&&t.handleCategories(e)}),a.data("userRequests").then(function(e){return void 0!==e&&t.handleRequests(e)}),e.next=16;break;case 10:return e.next=12,Object(d.a)("shops").then(function(e){return void 0!==e&&t.handleShops(e)});case 12:return e.next=14,Object(d.a)("categories").then(function(e){return void 0!==e&&t.handleCategories(e)});case 14:return e.next=16,Object(d.a)("userRequests").then(function(e){return void 0!==e&&t.handleRequests(e)});case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ae=function(e){function t(){var e;return Object(P.a)(this,t),(e=Object(R.a)(this,Object(I.a)(t).call(this))).chgTitle=function(t){e.setState({title:t})},e.state={title:"\u0417\u0430\u044f\u0432\u043a\u0438"},e}return Object($.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(F.a)(B.a.mark(function e(){var t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$f7.dialog.preloader("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),t=new te,e.next=4,t.init(this.props).then();case 4:this.$f7.dialog.close();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"new_request",value:function(e){return this.$f7.views.main.router.navigate("/open_request/"+e+"/"),!1}},{key:"render",value:function(){var e=this,t=this.state.title;return r.a.createElement(c.y,{hideToolbarOnScroll:!0,pageContent:!1},r.a.createElement(c.x,{color:"white",textColor:"white",bgColor:"main",title:"\u041c\u0430\u0440\u0448\u0430\u043b \u0421\u0435\u0440\u0432\u0438\u0441"+(""!==t?" / "+t:"")},r.a.createElement(c.w,null,r.a.createElement(H.Offline,null,r.a.createElement(c.j,{iconMd:"material:signal_wifi_off"})))),r.a.createElement(c.L,{bottom:!0,tabbar:!0,labels:!0,color:"main"},r.a.createElement(c.j,{tabLink:"#requests",onClick:function(){return e.chgTitle("\u0417\u0430\u044f\u0432\u043a\u0438")},tabLinkActive:!0,text:"\u0417\u0430\u044f\u0432\u043a\u0438",iconMd:"material:important_devices"}),r.a.createElement(c.j,{tabLink:"#stores",onClick:function(){return e.chgTitle("\u041c\u0430\u0433\u0430\u0437\u0438\u043d\u044b")},text:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d\u044b",iconMd:"material:store"}),r.a.createElement(c.j,{tabLink:"#new",onClick:function(){return e.new_request(0)},text:" "},r.a.createElement(c.i,{material:"add"})),r.a.createElement(c.j,{tabLink:"#sto",onClick:function(){return e.chgTitle("\u0421\u0422\u041e")},text:"\u0421\u0422\u041e",iconMd:"material:build"}),r.a.createElement(c.j,{tabLink:"#person",onClick:function(){return e.chgTitle("\u041b\u0438\u0447\u043d\u044b\u0439 \u041a\u0430\u0431\u0438\u043d\u0435\u0442")},text:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442",iconMd:"material:person"})),r.a.createElement(c.h,{href:"open_request/0/",position:"center-bottom",slot:"fixed",color:"blue",className:"btn-new-request"},r.a.createElement(c.i,{ios:"f7:add",md:"material:add"})),r.a.createElement(c.J,{animated:!0},r.a.createElement(c.I,{id:"requests",className:"page-content",tabActive:!0},r.a.createElement(Q,null)),r.a.createElement(c.I,{id:"stores",className:"page-content"},r.a.createElement(W,null)),r.a.createElement(c.I,{id:"sto",className:"page-content"},r.a.createElement(ee,null)),r.a.createElement(c.I,{id:"person",className:"page-content"},r.a.createElement(X,null))))}}]),t}(r.a.Component),ne=Object(o.b)(function(e){return{user:e.user}},function(e){return{handleLogin:function(t){return e(h(t))},handleShops:function(t){return e((a=t,function(e){e({type:g,payload:a})}));var a},handleCategories:function(t){return e((a=t,function(e){e({type:b,payload:a})}));var a},handleRequests:function(t){return e((a=t,function(e){e({type:E,payload:a})}));var a},handleAnswers:function(t){return e((a=t,function(e){e({type:y,payload:a})}));var a}}})(ae),re=function(e){function t(){return Object(P.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(c.y,null,r.a.createElement(c.x,{color:"white",textColor:"white",bgColor:"red",title:"\u0417\u0430\u044f\u0432\u043a\u0430",backLink:"Back"}),r.a.createElement(c.c,{strong:!0},r.a.createElement("ul",null,Object.keys(this.$f7route.params).map(function(t){return r.a.createElement("li",{key:t},r.a.createElement("b",null,t,":")," ",e.$f7route.params[t])}))),r.a.createElement(c.c,{strong:!0},r.a.createElement(c.j,{onClick:function(){return e.$f7router.back()}},"\u041d\u0430\u0437\u0430\u0434")))}}]),t}(n.Component),se=a(8),le=a(23),ie=function e(){Object(P.a)(this,e),this.data=function(){var e=Object(F.a)(B.a.mark(function e(t,a){var n,r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="/"+t,e.prev=1,e.next=4,U.post(n,a);case 4:if(200!==(r=e.sent).status){e.next=7;break}return e.abrupt("return",r.data);case 7:return e.abrupt("return",void 0);case 10:return e.prev=10,e.t0=e.catch(1),console.log(e.t0.response),e.abrupt("return",void 0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t,a){return e.apply(this,arguments)}}()},ce=function(e){function t(){var e;return Object(P.a)(this,t),(e=Object(R.a)(this,Object(I.a)(t).call(this))).handleShops=function(t){e.setState({selected_shops:t,shop_id:t[0]})},e.handleData=function(t,a){e.setState(Object(se.a)({},t,a))},e.set_stores=function(){e.$f7.views.main.router.navigate("/stores_list/",{props:{handleShops:e.handleShops,selected_shops:e.state.selected_shops}})},e.sendRequest=function(){var t=Object(m.a)({},e.state);delete t.selected_shops,t.user_id=e.props.user.id,(new ie).data("request-add",t).then(function(t){e.props.handleAddRequests(t.result)}),e.addRequestSuccess.open(),e.$f7.views.main.router.navigate("/")},e.addRequestSuccess=e.$f7.notification.create({icon:'<i class="icon marshal-icon"> </i>',title:"\u041c\u0430\u0440\u0448\u0430\u043b \u0421\u0435\u0440\u0432\u0438\u0441",subtitle:"\u0417\u0430\u044f\u0432\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",text:"\u0412 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u0430\u043c \u043e\u0442\u0432\u0435\u0442\u044f\u0442.",closeTimeout:3e3}),e.state={selected_shops:[],shop_id:null,category_id:null,car_id:null,vin:null,text:null},e}return Object($.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selected_shops,a=this.props,n=a.shops,s=a.categories,l=n.filter(function(e){return-1!==t.indexOf(e.id)});return r.a.createElement(c.y,null,r.a.createElement(c.x,{color:"white",textColor:"white",bgColor:"main",title:this.$f7route.params.reqId>0?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443":"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u044f\u0432\u043a\u0430",backLink:"Back"}),r.a.createElement(c.e,{style:{whiteSpace:"initial"}},"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u0434\u0431\u043e\u0440 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0439 \u0432\u0430\u043c \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0438 \u0438\u043b\u0438 \u0443\u0441\u043b\u0443\u0433\u0438."),r.a.createElement(c.k,null,r.a.createElement(c.l,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430",type:"select",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435...",onChange:function(t){return e.handleData("category_id",t.target.value)}},r.a.createElement("option",{key:0,value:null},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435..."),s.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.category)})),r.a.createElement(c.l,{label:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c",type:"select",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435...",onChange:function(t){return e.handleData("car_id",t.target.value)}},r.a.createElement("option",{key:0,value:null},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435..."),r.a.createElement("option",{value:"1"},"Mercedes"),r.a.createElement("option",{value:"2"},"BMW")),r.a.createElement(c.l,{outline:!0,label:"VIN",floatingLabel:!0,type:"text",placeholder:"\u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430 \u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 VIN \u043d\u043e\u043c\u0435\u0440 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",onChange:function(t){return e.handleData("vin",t.target.value)}}),r.a.createElement(c.l,{outline:!0,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",floatingLabel:!0,type:"textarea",placeholder:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u043c \u0442\u043e\u0432\u0430\u0440\u0435...",onChange:function(t){return e.handleData("text",t.target.value)}}),r.a.createElement(c.e,null,"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d:",r.a.createElement(c.f,{small:!0,fill:!0,onClick:function(){return e.set_stores()},style:{float:"right",display:"inline-block"}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c")),l.length>0?r.a.createElement(c.c,{strong:!0},l.map(function(e,t){return r.a.createElement(c.g,{key:t,text:e.name})})):null),r.a.createElement(c.c,null,r.a.createElement(c.f,{fill:!0,onClick:this.sendRequest},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443")))}}]),t}(n.Component),oe=Object(le.a)(function(e){return{user:e.user,requests:e.requests,shops:e.stores.shops,categories:e.stores.categories}},function(e){return{handleAddRequests:function(t){return e((a=t,function(e){e({type:k,payload:a})}));var a}}})(ce),ue=function(){var e=Object(F.a)(B.a.mark(function e(t,a){var n,r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new H.Detector,e.next=3,n.state.online;case 3:if(!e.sent){e.next=9;break}return r=new G,e.next=7,r.data("answer/"+a).then(function(e){return void 0!==e&&t.handleResponse(e)});case 7:e.next=11;break;case 9:return e.next=11,Object(d.a)("answer/"+a).then(function(e){return void 0!==e&&t.handleResponse(e)});case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),me=function(e){function t(){return Object(P.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(T.a)(t,[{key:"get_category",value:function(e){var t=this.props.categories.find(function(t){return t.id===e});return void 0!==t?t.category:"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}},{key:"get_shop",value:function(e){var t=this.props.shops.find(function(t){return t.id===e});return void 0!==t?t.name:"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}},{key:"open_response",value:function(e){var t=this;this.$f7.dialog.preloader("\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435..."),ue(this.props,e).then(function(){t.$f7.views.main.router.navigate("/requests/response/"+e+"/"),t.$f7.dialog.close()})}},{key:"render",value:function(){var e=this,t=this.props.request;return r.a.createElement(c.y,null,r.a.createElement(c.x,{color:"white",textColor:"white",bgColor:"main",title:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",backLink:"Back"},r.a.createElement(c.F,{inner:!1,className:"no-padding"},r.a.createElement(c.k,{mediaList:!0,className:"no-margin list-request"},r.a.createElement(c.m,{swipeout:!0,after:t.created_at.toLocaleString(),subtitle:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439: "+(t.answers.length||0),text:t.text},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:"access_time",color:"blue"}),this.get_category(t.category_id)))))),r.a.createElement(c.k,{mediaList:!0,noHairlinesMd:!0},0===t.answers.length?r.a.createElement(c.c,null,"\u041d\u0430 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u043e\u0432..."):t.answers.map(function(t){return r.a.createElement(c.m,{key:t.id,onClick:function(){return e.open_response(t.id)},after:t.created_at.toLocaleString(),subtitle:e.get_shop(t.shop_id),text:t.description},r.a.createElement("b",{slot:"title"},t.is_new?r.a.createElement(c.i,{className:"status-icon",material:"fiber_new",color:"green"}):null,t.price))})))}}]),t}(n.Component),pe=Object(o.b)(function(e){return{request:e.request[0],categories:e.stores.categories,shops:e.stores.shops}},function(e){return{handleResponse:function(t){return e((a=t,function(e){e({type:w,payload:a})}));var a}}})(me),he=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(R.a)(this,Object(I.a)(t).call(this,e))).state={attachments:[],sheetVisible:!1,typingMessage:null,messagesData:[{type:"sent",text:"Please wait...",date:new Date}],images:["https://cdn.framework7.io/placeholder/cats-300x300-1.jpg","https://cdn.framework7.io/placeholder/cats-200x300-2.jpg","https://cdn.framework7.io/placeholder/cats-400x300-3.jpg","https://cdn.framework7.io/placeholder/cats-300x150-4.jpg","https://cdn.framework7.io/placeholder/cats-150x300-5.jpg","https://cdn.framework7.io/placeholder/cats-300x300-6.jpg","https://cdn.framework7.io/placeholder/cats-300x300-7.jpg","https://cdn.framework7.io/placeholder/cats-200x300-8.jpg","https://cdn.framework7.io/placeholder/cats-400x300-9.jpg","https://cdn.framework7.io/placeholder/cats-300x150-10.jpg"],responseInProgress:!1},a}return Object($.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(c.y,{className:"messages-block"},r.a.createElement(c.p,{placeholder:this.placeholder,ref:function(t){e.messagebarComponent=t},attachmentsVisible:this.attachmentsVisible,sheetVisible:this.state.sheetVisible,change:function(){e.setState({sheetVisible:!e.state.sheetVisible})},value:"Test message",onChange:this.handleMessage.bind(this)},r.a.createElement(c.j,{iconIos:"f7:camera_fill",iconMd:"material:camera_alt",slot:"inner-start",onClick:function(){e.setState({sheetVisible:!e.state.sheetVisible})}}),r.a.createElement(c.j,{iconIos:"f7:arrow_up_fill",iconMd:"material:send",slot:"inner-end",onClick:this.sendMessage.bind(this)}),r.a.createElement(c.r,null,this.state.attachments.map(function(t,a){return r.a.createElement(c.q,{key:a,image:t,onAttachmentDelete:function(){return e.deleteAttachment(t)}})})),r.a.createElement(c.s,null,this.state.images.map(function(t,a){return r.a.createElement(c.t,{key:a,image:t,checked:e.state.attachments.indexOf(t)>=0,onChange:e.handleAttachment.bind(e)})}))),r.a.createElement(c.u,{ref:function(t){e.messagesComponent=t}},this.state.messagesData.map(function(t,a){return r.a.createElement(c.o,{key:a,type:t.type,image:t.image,name:t.name,avatar:t.avatar,footer:t.date.toLocaleString(),first:e.isFirstMessage(t,a),last:e.isLastMessage(t,a),tail:e.isTailMessage(t,a)},t.text&&r.a.createElement("span",{slot:"text",dangerouslySetInnerHTML:{__html:t.text}}))}),this.state.typingMessage&&r.a.createElement(c.o,{type:"received",typing:!0,first:!0,last:!0,tail:!0,header:"".concat(this.state.typingMessage.name," is typing"),avatar:this.state.typingMessage.avatar})))}},{key:"componentDidMount",value:function(){var e=this,t=e.props.messages.map(function(e){return{name:"user name "+e.user_id,type:1===e.user_id?"sent":"received",text:e.message,date:e.updated_at}});e.setState({messagesData:t}),e.$f7ready(function(){e.messagebar=e.messagebarComponent.f7Messagebar,e.messages=e.messagesComponent.f7Messages})}},{key:"isFirstMessage",value:function(e,t){var a=this.state.messagesData[t-1];return!e.isTitle&&(!a||a.type!==e.type||a.name!==e.name)}},{key:"isLastMessage",value:function(e,t){var a=this.state.messagesData[t+1];return!e.isTitle&&(!a||a.type!==e.type||a.name!==e.name)}},{key:"isTailMessage",value:function(e,t){var a=this.state.messagesData[t+1];return!e.isTitle&&(!a||a.type!==e.type||a.name!==e.name)}},{key:"deleteAttachment",value:function(e){var t=this.state.attachments,a=t.indexOf(e);t.splice(a,1),this.setState({attachments:t})}},{key:"handleAttachment",value:function(e){var t=this.state.attachments,a=this.$$(e.target).parents("label.checkbox").index(),n=this.state.images[a];e.target.checked?t.unshift(n):t.splice(t.indexOf(n),1),this.setState({attachments:t})}},{key:"handleMessage",value:function(e){console.log(e)}},{key:"sendMessage",value:function(){var e=this.messagebar.getValue().replace(/\n/g,"<br>").trim(),t=[];this.state.attachments.forEach(function(e){t.push({image:e})}),e.trim().length&&t.push({text:e,date:new Date}),0!==t.length&&(this.setState({attachments:[],sheetVisible:!1,messagesData:[].concat(Object(x.a)(this.state.messagesData),t)}),this.messagebar.clear(),e.length&&this.messagebar.focus())}},{key:"attachmentsVisible",get:function(){return this.state.attachments.length>0}},{key:"placeholder",get:function(){return this.state.attachments.length>0?"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435":"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}}]),t}(r.a.Component),de=function(e){function t(){return Object(P.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(T.a)(t,[{key:"get_shop",value:function(e){var t=this.props.shops.find(function(t){return t.id===e});return void 0!==t?t.name:"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}},{key:"render",value:function(){var e=this,t=this.props.response;return r.a.createElement(c.y,null,r.a.createElement(c.x,{color:"white",textColor:"white",bgColor:"main",title:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435",backLink:"Back"},r.a.createElement(c.w,null,r.a.createElement(c.j,{iconMd:"material:chat",href:"/messages/"})),r.a.createElement(c.F,{inner:!1,className:"no-padding"},r.a.createElement(c.k,{mediaList:!0,className:"no-margin list-request"},r.a.createElement(c.m,{key:t.id,onClick:function(){return e.open_response(t.id)},after:t.created_at.toLocaleString(),subtitle:this.get_shop(t.shop_id),text:t.description},r.a.createElement("b",{slot:"title"},t.is_new?r.a.createElement(c.i,{className:"status-icon",material:"fiber_new",color:"green"}):null,t.price))))),t.messages.length>0?r.a.createElement(he,{messages:t.messages}):r.a.createElement(c.c,null,"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430."))}}]),t}(n.Component),fe=Object(le.a)(function(e){return{response:e.response[0],shops:e.stores.shops}})(de),ge=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(R.a)(this,Object(I.a)(t).call(this,e))).state={attachments:[],sheetVisible:!1,typingMessage:null,messagesData:[{type:"sent",text:"Hi, Kate"},{type:"sent",text:"How are you?"},{name:"Kate",type:"received",text:"Hi, I am good!",avatar:"https://cdn.framework7.io/placeholder/people-100x100-9.jpg"},{name:"Blue Ninja",type:"received",text:"Hi there, I am also fine, thanks! And how are you?",avatar:"https://cdn.framework7.io/placeholder/people-100x100-7.jpg"},{type:"sent",text:"Hey, Blue Ninja! Glad to see you ;)"},{type:"sent",text:"Hey, look, cutest kitten ever!"},{type:"sent",image:"https://cdn.framework7.io/placeholder/cats-200x260-4.jpg"},{name:"Kate",type:"received",text:"Nice!",avatar:"https://cdn.framework7.io/placeholder/people-100x100-9.jpg"},{name:"Kate",type:"received",text:"Like it very much!",avatar:"https://cdn.framework7.io/placeholder/people-100x100-9.jpg"},{name:"Blue Ninja",type:"received",text:"Awesome!",avatar:"https://cdn.framework7.io/placeholder/people-100x100-7.jpg"}],images:["https://cdn.framework7.io/placeholder/cats-300x300-1.jpg","https://cdn.framework7.io/placeholder/cats-200x300-2.jpg","https://cdn.framework7.io/placeholder/cats-400x300-3.jpg","https://cdn.framework7.io/placeholder/cats-300x150-4.jpg","https://cdn.framework7.io/placeholder/cats-150x300-5.jpg","https://cdn.framework7.io/placeholder/cats-300x300-6.jpg","https://cdn.framework7.io/placeholder/cats-300x300-7.jpg","https://cdn.framework7.io/placeholder/cats-200x300-8.jpg","https://cdn.framework7.io/placeholder/cats-400x300-9.jpg","https://cdn.framework7.io/placeholder/cats-300x150-10.jpg"],people:[{name:"Kate Johnson",avatar:"https://cdn.framework7.io/placeholder/people-100x100-9.jpg"},{name:"Blue Ninja",avatar:"https://cdn.framework7.io/placeholder/people-100x100-7.jpg"}],answers:["Yes!","No","Hm...","I am not sure","And what about you?","May be ;)","Lorem ipsum dolor sit amet, consectetur","What?","Are you sure?","Of course","Need to think about it","Amazing!!!"],responseInProgress:!1},a}return Object($.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(c.y,null,r.a.createElement(c.x,{color:"white",textColor:"white",bgColor:"main",backLink:"Back",title:"\u041f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u044f\u0432\u043a\u0435"}),r.a.createElement(c.p,{placeholder:this.placeholder,ref:function(t){e.messagebarComponent=t},attachmentsVisible:this.attachmentsVisible,sheetVisible:this.state.sheetVisible,change:function(){e.setState({sheetVisible:!e.state.sheetVisible})}},r.a.createElement(c.j,{iconIos:"f7:camera_fill",iconMd:"material:camera_alt",slot:"inner-start",onClick:function(){e.setState({sheetVisible:!e.state.sheetVisible})}}),r.a.createElement(c.j,{iconIos:"f7:arrow_up_fill",iconMd:"material:send",slot:"inner-end",onClick:this.sendMessage.bind(this)}),r.a.createElement(c.r,null,this.state.attachments.map(function(t,a){return r.a.createElement(c.q,{key:a,image:t,onAttachmentDelete:function(){return e.deleteAttachment(t)}})})),r.a.createElement(c.s,null,this.state.images.map(function(t,a){return r.a.createElement(c.t,{key:a,image:t,checked:e.state.attachments.indexOf(t)>=0,onChange:e.handleAttachment.bind(e)})}))),r.a.createElement(c.u,{ref:function(t){e.messagesComponent=t}},r.a.createElement(c.v,null,r.a.createElement("b",null,"Sunday, Feb 9,")," 12:58"),this.state.messagesData.map(function(t,a){return r.a.createElement(c.o,{key:a,type:t.type,image:t.image,name:t.name,avatar:t.avatar,first:e.isFirstMessage(t,a),last:e.isLastMessage(t,a),tail:e.isTailMessage(t,a)},t.text&&r.a.createElement("span",{slot:"text",dangerouslySetInnerHTML:{__html:t.text}}))}),this.state.typingMessage&&r.a.createElement(c.o,{type:"received",typing:!0,first:!0,last:!0,tail:!0,header:"".concat(this.state.typingMessage.name," is typing"),avatar:this.state.typingMessage.avatar})))}},{key:"componentDidMount",value:function(){var e=this;e.$f7ready(function(){e.messagebar=e.messagebarComponent.f7Messagebar,e.messages=e.messagesComponent.f7Messages})}},{key:"isFirstMessage",value:function(e,t){var a=this.state.messagesData[t-1];return!e.isTitle&&(!a||a.type!==e.type||a.name!==e.name)}},{key:"isLastMessage",value:function(e,t){var a=this.state.messagesData[t+1];return!e.isTitle&&(!a||a.type!==e.type||a.name!==e.name)}},{key:"isTailMessage",value:function(e,t){var a=this.state.messagesData[t+1];return!e.isTitle&&(!a||a.type!==e.type||a.name!==e.name)}},{key:"deleteAttachment",value:function(e){var t=this.state.attachments,a=t.indexOf(e);t.splice(a,1),this.setState({attachments:t})}},{key:"handleAttachment",value:function(e){var t=this.state.attachments,a=this.$$(e.target).parents("label.checkbox").index(),n=this.state.images[a];e.target.checked?t.unshift(n):t.splice(t.indexOf(n),1),this.setState({attachments:t})}},{key:"sendMessage",value:function(){var e=this,t=e.messagebar.getValue().replace(/\n/g,"<br>").trim(),a=[];e.state.attachments.forEach(function(e){a.push({image:e})}),t.trim().length&&a.push({text:t}),0!==a.length&&(e.setState({attachments:[],sheetVisible:!1,messagesData:[].concat(Object(x.a)(e.state.messagesData),a)}),e.messagebar.clear(),t.length&&e.messagebar.focus(),e.state.responseInProgress||(e.setState({responseInProgress:!0}),setTimeout(function(){var t=e.state.answers[Math.floor(Math.random()*e.state.answers.length)],a=e.state.people[Math.floor(Math.random()*e.state.people.length)];e.setState({typingMessage:{name:a.name,avatar:a.avatar}}),setTimeout(function(){e.setState({messagesData:[].concat(Object(x.a)(e.state.messagesData),[{text:t,type:"received",name:a.name,avatar:a.avatar}]),typingMessage:null,responseInProgress:!1})},4e3)},1e3)))}},{key:"attachmentsVisible",get:function(){return this.state.attachments.length>0}},{key:"placeholder",get:function(){return this.state.attachments.length>0?"Add comment or Send":"Message"}}]),t}(r.a.Component),be=function(e){function t(){return Object(P.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(T.a)(t,[{key:"forward",value:function(){this.$f7.dialog.alert("Favorite")}},{key:"render",value:function(){return r.a.createElement(c.y,null,r.a.createElement(c.x,{color:"white",textColor:"white",bgColor:"main",title:"\u041c\u043e\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438",backLink:"Back"}),r.a.createElement(c.k,{mediaList:!0,className:"no-margin"},r.a.createElement(c.m,{swipeout:!0,after:"17:14 08.03.2018",subtitle:"VIN: 0000000000000",text:"\u041f\u0440\u043e\u0431\u0435\u0433: 40 000 \u043a\u043c"},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:"directions_car",color:"blue"})," BMW X5"),r.a.createElement(c.G,{left:!0},r.a.createElement(c.H,{color:"blue",onClick:this.forward.bind(this)},r.a.createElement(c.i,{material:"favorite"})," \u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"))),r.a.createElement(c.m,{swipeout:!0,after:"17:14 08.03.2018",subtitle:"VIN: 0000000000000",text:"\u041f\u0440\u043e\u0431\u0435\u0433: 10 000 \u043a\u043c"},r.a.createElement("span",{slot:"title"},r.a.createElement(c.i,{className:"status-icon",material:"directions_car",color:"blue"})," Mercedes 600"),r.a.createElement(c.G,{left:!0},r.a.createElement(c.H,{color:"blue",onClick:this.forward.bind(this)},r.a.createElement(c.i,{material:"favorite"})," \u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")))))}}]),t}(r.a.Component),Ee=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(R.a)(this,Object(I.a)(t).call(this,e))).searchAll=function(e,t){for(var a=[],n=0;n<t.length;n+=1)(t[n].name.toLowerCase().indexOf(e.toLowerCase())>=0||""===e.trim())&&a.push(n);return a},a.handleToggle=function(e){a.setState({selectedShops:[e.id]})},a.setShops=function(){a.props.handleShops(a.state.selectedShops),a.$f7router.back()},a.state={vlData:{items:[]},selectedShops:[]},a}return Object($.a)(t,e),Object(T.a)(t,[{key:"renderExternal",value:function(e,t){this.setState({vlData:t})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.shops,a=e.selected_shops;this.setState({selectedShops:Object(x.a)(a)}),t.forEach(function(e){e.checked=-1!==Object(x.a)(a).indexOf(e.id)})}},{key:"render",value:function(){var e=this,t=this.props.shops,a=this.state,n=a.vlData,s=a.selectedShops;return r.a.createElement(c.y,{className:"stores-list"},r.a.createElement(c.x,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u0432",backLink:"Back",bgColor:"main",textColor:"white",color:"white"},r.a.createElement(c.w,null,r.a.createElement(c.j,{iconMd:"material:done",onClick:function(){return e.setShops()}})),r.a.createElement(c.F,{inner:!1,className:"search-bar"},r.a.createElement(c.D,{searchContainer:".virtual-list",searchItem:"li",searchIn:".item-title",placeholder:"\u041f\u043e\u0438\u0441\u043a"}))),r.a.createElement(c.c,null,r.a.createElement("p",null,"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0432 \u043a\u0430\u043a\u043e\u0439 \u043c\u0430\u0433\u0430\u0437\u0438\u043d \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441")),r.a.createElement(c.k,{className:"searchbar-not-found"},r.a.createElement(c.m,{title:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b..."})),r.a.createElement(c.k,{className:"searchbar-found",medialList:!0,virtualList:!0,virtualListParams:{items:t,searchAll:this.searchAll,renderExternal:this.renderExternal.bind(this),height:this.$theme.ios?63:73}},r.a.createElement("ul",null,n.items.map(function(t,a){return r.a.createElement(c.m,{key:a,mediaItem:!0,radio:!0,checked:-1!==s.indexOf(t.id),onClick:function(){return e.handleToggle(t)},title:t.name,subtitle:t.address,after:t.phone,style:{top:"".concat(n.topPosition,"px")}})}))))}}]),t}(r.a.Component),ve=Object(o.b)(function(e){return{shops:e.stores.shops}})(Ee),ke=function e(){var t=this;Object(P.a)(this,e),this.login=Object(F.a)(B.a.mark(function e(){var a,n,r=arguments;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/login",a={email:r.length<=0?void 0:r[0],password:r.length<=1?void 0:r[1],application:"marshal"},n="test",e.next=5,Object(d.a)("AUTH_TOKEN").then(function(){var e=Object(F.a)(B.a.mark(function e(r){var s,l;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r){e.next=18;break}return e.prev=1,e.next=4,U.post("/login",a);case 4:return s=e.sent,l=s.data.access_token,U.defaults.headers.common.Authorization="Bearer "+l,Object(d.b)("AUTH_TOKEN",l).then(),e.next=10,t.user_details();case 10:n=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n=e.t0.response;case 16:e.next=22;break;case 18:return e.next=20,t.user_details();case 20:n=e.sent,console.log(n);case 22:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)})),this.user_details=Object(F.a)(B.a.mark(function e(){var t;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/details",t={},e.prev=2,e.next=5,U.get("/details",t);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))},ye=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(R.a)(this,Object(I.a)(t).call(this,e))).authError=a.$f7.notification.create({icon:'<i class="icon marshal-icon"> </i>',title:"\u041c\u0430\u0440\u0448\u0430\u043b \u0421\u0435\u0440\u0432\u0438\u0441",subtitle:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",text:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u0430\u0440\u043e\u043b\u044c.",closeButton:!0}),a.authSuccess=function(e){return a.$f7.notification.create({icon:'<i class="icon marshal-icon"> </i>',title:"\u041c\u0430\u0440\u0448\u0430\u043b \u0421\u0435\u0440\u0432\u0438\u0441",subtitle:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c "+e+"!",closeTimeout:3e3})},a.handleOnChange=function(e){return function(t){a.setState(Object(se.a)({},e,t.target.value))}},a.state={inputLogin:"",inputPassword:""},a}return Object($.a)(t,e),Object(T.a)(t,[{key:"authentication",value:function(){var e=Object(F.a)(B.a.mark(function e(){var t,a,n,r,s,l;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this).$f7.dialog.preloader(),a=new ke,n=this.state,r=n.inputLogin,s=n.inputPassword,e.next=6,a.login(r,s);case 6:401===(l=e.sent).status?this.authError.open():200===l.status&&(this.authSuccess(l.data.success.name).open(),this.$f7.views.main.router.navigate("/")),t.$f7.dialog.close(),this.props.handleLogin(l.data.success);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.inputLogin,n=t.inputPassword;return r.a.createElement(c.y,{loginScreen:!0},r.a.createElement(c.n,null,"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(c.k,{form:!0},r.a.createElement(c.l,{label:"Email",name:"username",placeholder:"Email",type:"email",value:a,onChange:this.handleOnChange("inputLogin")}),r.a.createElement(c.l,{label:"Password",name:"password",placeholder:"Password",type:"password",value:n,onChange:this.handleOnChange("inputPassword")}),r.a.createElement(c.d,null,r.a.createElement(c.f,{fill:!0,onClick:function(){return e.authentication()}},"\u0412\u043e\u0439\u0442\u0438"))),r.a.createElement(c.k,null,r.a.createElement(c.d,null,r.a.createElement("p",null,r.a.createElement(c.j,null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement("p",null,"\u0414\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f \u043d\u0430\u0436\u043c\u0438\u0442\u0435 ",r.a.createElement(c.j,null,"\u0441\u0441\u044b\u043b\u043a\u0443")))))}}]),t}(r.a.Component),we=[{path:"/",component:ne},{path:"/panel-left/",component:function(){return r.a.createElement(c.y,null,r.a.createElement(c.x,{title:"Left Panel"}),r.a.createElement(c.c,{strong:!0},r.a.createElement("p",null,"Left panel content goes here")),r.a.createElement(c.e,null,"Load page in panel"),r.a.createElement(c.k,null,r.a.createElement(c.m,{link:"/about/",title:"About"}),r.a.createElement(c.m,{link:"/form/",title:"Form"})),r.a.createElement(c.e,null,"Load page in main view"),r.a.createElement(c.k,null,r.a.createElement(c.m,{link:"/about/",title:"About",view:"#main-view",panelClose:!0}),r.a.createElement(c.m,{link:"/form/",title:"Form",view:"#main-view",panelClose:!0})))}},{path:"/panel-right/",component:function(){return r.a.createElement(c.y,null,r.a.createElement(c.x,{title:"Right Panel"}),r.a.createElement(c.c,{strong:!0},r.a.createElement("p",null,"Right panel content goes here")),r.a.createElement(c.e,null,"Load page in panel"),r.a.createElement(c.k,null,r.a.createElement(c.m,{link:"/about/",title:"About"}),r.a.createElement(c.m,{link:"/form/",title:"Form"})),r.a.createElement(c.e,null,"Load page in main view"),r.a.createElement(c.k,null,r.a.createElement(c.m,{link:"/about/",title:"About",view:"#main-view",panelClose:!0}),r.a.createElement(c.m,{link:"/form/",title:"Form",view:"#main-view",panelClose:!0})))}},{path:"/about/",component:function(){return r.a.createElement(c.y,null,r.a.createElement(c.x,{title:"About",backLink:"Back"}),r.a.createElement(c.e,null,"About My App"),r.a.createElement(c.c,{strong:!0},r.a.createElement("p",null,"Here is About page!"),r.a.createElement("p",null,"You can go ",r.a.createElement(c.j,{back:!0},"back"),"."),r.a.createElement("p",null,"Mauris posuere sit amet metus id venenatis. Ut ante dolor, tempor nec commodo rutrum, varius at sem. Nullam ac nisi non neque ornare pretium. Nulla mauris mauris, consequat et elementum sit amet, egestas sed orci. In hac habitasse platea dictumst."),r.a.createElement("p",null,"Fusce eros lectus, accumsan eget mi vel, iaculis tincidunt felis. Nulla tincidunt pharetra sagittis. Fusce in felis eros. Nulla sit amet aliquam lorem, et gravida ipsum. Mauris consectetur nisl non sollicitudin tristique. Praesent vitae metus ac quam rhoncus mattis vel et nisi. Aenean aliquet, felis quis dignissim iaculis, lectus quam tincidunt ligula, et venenatis turpis risus sed lorem. Morbi eu metus elit. Ut vel diam dolor.")))}},{path:"/form/",component:function(){return r.a.createElement(c.y,null,r.a.createElement(c.x,{title:"Form",backLink:"Back"}),r.a.createElement(c.e,null,"Form Example"),r.a.createElement(c.k,{form:!0},r.a.createElement(c.l,{label:"Name",type:"text",placeholder:"Name"}),r.a.createElement(c.l,{label:"E-mail",type:"email",placeholder:"E-mail"}),r.a.createElement(c.l,{label:"URL",type:"url",placeholder:"URL"}),r.a.createElement(c.l,{label:"Password",type:"password",placeholder:"Password"}),r.a.createElement(c.l,{label:"Phone",type:"tel",placeholder:"Phone"}),r.a.createElement(c.l,{label:"Gender",type:"select",defaultValue:"Male"},r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Female")),r.a.createElement(c.l,{label:"Birth date",type:"date",placeholder:"Birth date",value:"2014-04-30"}),r.a.createElement(c.m,{title:"Toggle"},r.a.createElement(c.K,{slot:"after"})),r.a.createElement(c.l,{label:"Slider",input:!1},r.a.createElement(c.B,{label:!0,slot:"input",min:0,max:100,value:50,step:1})),r.a.createElement(c.l,{label:"Textarea",type:"textarea",placeholder:"Bio"}),r.a.createElement(c.l,{label:"Resizable",type:"textarea",placeholder:"Bio",resizable:!0})),r.a.createElement(c.e,null,"Checkbox group"),r.a.createElement(c.k,{form:!0},Array.from(Array(3).keys()).map(function(e){return r.a.createElement(c.m,{key:e,checkbox:!0,name:"my-checkbox",value:e+1,title:"Checkbox ".concat(e+1)})})),r.a.createElement(c.e,null,"Radio buttons group"),r.a.createElement(c.k,{form:!0},Array.from(Array(3).keys()).map(function(e){return r.a.createElement(c.m,{key:e,radio:!0,name:"my-radio",defaultChecked:0===e,value:e+1,title:"Radio ".concat(e+1)})})),r.a.createElement(c.e,null,"Buttons"),r.a.createElement(c.c,{strong:!0},r.a.createElement(c.C,{tag:"p"},r.a.createElement(c.f,{className:"col"},"Button"),r.a.createElement(c.f,{className:"col",fill:!0},"Fill")),r.a.createElement(c.C,{tag:"p"},r.a.createElement(c.f,{className:"col",raised:!0},"Raised"),r.a.createElement(c.f,{className:"col",raised:!0,fill:!0},"Raised Fill")),r.a.createElement(c.C,{tag:"p"},r.a.createElement(c.f,{className:"col",round:!0},"Round"),r.a.createElement(c.f,{className:"col",round:!0,fill:!0},"Round Fill")),r.a.createElement(c.C,{tag:"p"},r.a.createElement(c.f,{className:"col",outline:!0},"Outline"),r.a.createElement(c.f,{className:"col",round:!0,outline:!0},"Outline Round")),r.a.createElement(c.C,{tag:"p"},r.a.createElement(c.f,{className:"col",small:!0,outline:!0},"Small"),r.a.createElement(c.f,{className:"col",small:!0,round:!0,outline:!0},"Small Round")),r.a.createElement(c.C,{tag:"p"},r.a.createElement(c.f,{className:"col",small:!0,fill:!0},"Small"),r.a.createElement(c.f,{className:"col",small:!0,round:!0,fill:!0},"Small Round")),r.a.createElement(c.C,{tag:"p"},r.a.createElement(c.f,{className:"col",large:!0,raised:!0},"Large"),r.a.createElement(c.f,{className:"col",large:!0,fill:!0,raised:!0},"Large Fill")),r.a.createElement(c.C,{tag:"p"},r.a.createElement(c.f,{className:"col",large:!0,fill:!0,raised:!0,color:"red"},"Large Red"),r.a.createElement(c.f,{className:"col",large:!0,fill:!0,raised:!0,color:"green"},"Large Green"))))}},{path:"/login/",component:Object(o.b)(function(e){return{user:e.user}},function(e){return{handleLogin:function(t){return e(h(t))}}})(ye)},{path:"/messages/",component:ge},{path:"/cars/",component:be},{path:"/dynamic-route/blog/:blogId/post/:postId/",component:re},{path:"/open_request/:reqId/",component:oe},{path:"/requests/:reqId/",component:pe},{path:"/requests/response/:reqId/",component:fe},{path:"/stores_list/",component:ve},{path:"(.*)",component:function(){return r.a.createElement(c.y,null,r.a.createElement(c.x,{title:"\u041e\u0448\u0438\u0431\u043a\u0430",backLink:"Back",color:"white",textColor:"white",bgColor:"main"}),r.a.createElement(c.c,{strong:!0},r.a.createElement("p",null,"\u041a\u0430\u043a \u0432\u044b \u0441\u044e\u0434\u0430 \u043f\u043e\u043f\u0430\u043b\u0438?.."),r.a.createElement("p",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430.")))}}];a(79),a(80),a(81);i.a.use(c.N),l.a.render(r.a.createElement(function(e){var t=!1,a="red",n={id:"ru.bhapp.marshal",name:"marshal",theme:"md",routes:we};return r.a.createElement(o.a,{store:A},r.a.createElement(c.b,{params:n,themeDark:t,color:a},r.a.createElement(c.E,null),r.a.createElement(c.z,{left:!0,cover:!0,themeDark:!0},r.a.createElement(c.M,{url:"/panel-left/"})),r.a.createElement(c.z,{right:!0,reveal:!0,themeDark:!0},r.a.createElement(c.M,{url:"/panel-right/"})),r.a.createElement(c.M,{id:"main-view",url:"/",main:!0,className:"safe-areas"}),r.a.createElement(c.A,{id:"popup"},r.a.createElement(c.M,null,r.a.createElement(c.y,null,r.a.createElement(c.x,{title:"Popup"},r.a.createElement(c.w,null,r.a.createElement(c.j,{popupClose:!0},"Close"))),r.a.createElement(c.c,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, architecto. Cupiditate laudantium rem nesciunt numquam, ipsam. Voluptates omnis, a inventore atque ratione aliquam. Omnis iusto nemo quos ullam obcaecati, quod."))))))}),document.getElementById("app"))}},[[46,1,2]]]);
//# sourceMappingURL=main.075bf636.chunk.js.map